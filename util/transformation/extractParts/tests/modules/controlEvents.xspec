<?xml version="1.0" encoding="UTF-8"?>
<x:description run-as="external" stylesheet="../../main.xsl" xmlns:test-helper="x-urn:tutorial:helper:ws-only-text:test-helper" xmlns:dme="http://www.mozarteum.at/ns/dme" xmlns:mei="http://www.music-encoding.org/ns/mei" xmlns:x="http://www.jenitennison.com/xslt/xspec">


  <x:scenario label="ControlEvents">
    <!--Dirs-->
    <x:scenario label="Dir 'a 2'">

      <x:scenario label="Extract second Oboe.">
        <x:param name="parts">|2.2|</x:param>
        <x:context select="$K550-003"/>
        <x:expect test="id('dir_9918')" select="()" label="Deleted."/>
      </x:scenario>

      <x:scenario label="Extract Oboi (complete staff).">
        <x:param name="parts">|2|</x:param>
        <x:context select="$K550-003"/>
        <x:expect test="id('dir_9918')" select="$K550-003/id('dir_9918')" label="Preserved."/>
      </x:scenario>

    </x:scenario>

    <!--Ties-->
    <x:scenario label="Ties">

      <x:scenario label="References point to notes inside layer@sameas">
        <x:param name="parts">|2.2|</x:param>
        <x:context select="$K550-003" expand-text="no"/>
        <x:expect test="id('tie_10218')" label="References swaped."><mei:tie endid="#note_10308" staff="2" startid="#note_10002" xml:id="tie_10218"/></x:expect>
      </x:scenario>

      <x:scenario label="@endid points to a note inside beam@sameas">
        <x:param name="parts">|1.2|</x:param>
        <x:context select="$K621-23" expand-text="no"/>
        <x:expect test="id('tie_2699')" label="References swaped."><mei:tie endid="#note_2208" staff="1" startid="#note_2238" xml:id="tie_2699"/></x:expect>
      </x:scenario>

    </x:scenario>

  </x:scenario>
</x:description>
